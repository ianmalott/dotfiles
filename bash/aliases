# Enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
  eval "`dircolors -b`"
  alias ls='ls --color=auto'
  alias dir='dir --color=auto'
  alias vdir='vdir --color=auto'

  alias grep='grep --color=auto'
  alias grepn='grep -n --color=auto'
  alias grepv='grep -v --color=auto'
  alias fgrep='fgrep --color=auto'
  alias egrep='egrep --color=auto'
fi

# Config Management
alias dotfiles='cd ~/.dotfiles'
alias ealias='vim ~/.dotfiles/bash/aliases'
alias ebashconf='vim ~/.dotfiles/bash/config'
alias ebashrc='vim ~/.dotfiles/bashrc'
alias eirbrc='vim ~/.dotfiles/irbrc'
alias escreen='vim ~/.dotfiles/screenrc'
alias evim='vim ~/.dotfiles/vimrc'
alias salias='. ~/.dotfiles/bash/aliases'
alias sbashconf='. ~/.dotfiles/bash/config'
alias sbashrc='. ~/.dotfiles/bashrc'

# Db
alias eat="rake db:drop db:create && zcat tmp/platform_development_*.sql.gz | script/dbconsole -p"
alias poop="git checkout master && git pull && eat && rake db:migrate && mv tmp/platform_development_*.sql.gz ~/data/ && script/dbdump"

# Git
alias g='git'
alias ga='git add'
alias gb='git branch'
alias gba='git branch -a'
alias gback='git checkout @{-1}'
alias gco='git checkout'
alias gcom='git checkout master'
alias gd='git diff'
alias gdc='git diff --cached'
alias gdm='git diff master'
alias gdmc='git diff master --check'
alias gdms='git diff master --stat'
alias gf='git show --pretty="format:" --name-only'
alias gl='git log'
alias glo='git log --oneline'
alias gp='git pull'
alias gs='git status'
alias gsh='git show HEAD'
alias gshs='git show HEAD --stat'

# Misc
alias c='clear'
alias h='cd $HOME'

# Project-specific screen sessions
for project in commonplace finalclub platform; do
  # cd triggers rvm after_cd hook, which sources project .rvmrc to switch ruby & gemset
  alias $project="cd $HOME/projects/$project; screen -S $project -R -c $HOME/.dotfiles/screen/$project"
done

# Rake
alias rtf='rake test:functionals'
alias rtu='rake test:units'

# Review
alias ll="grepn --exclude='*.swp' --exclude='colorbox.js' -rE '.{81}'"
